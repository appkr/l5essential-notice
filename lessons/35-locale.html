<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>

  <meta name="description" content="서버 측에서 사용자의 언어 선호를 기억하여, 사용자가 로그인하지 않아도 자국어로 서비스할 수 있는 방법을 같이 연구해 본다."/>
  <meta name="google-site-verification" content="ToXKBimREnz49pDNot4b-N9ZJgYcKXPPsHsjhg4Zzuc"/>
  <meta name="naver-site-verification" content="7cebcc8e5493169f5401870d9ce57f48d18491cd"/>

  <meta name="msapplication-tap-highlight" content="no"/>

  <!-- Facebook Meta -->
  <meta property="og:title" content="라라벨 5 입문 및 실전 / 35강 - 다국어 지원"/>
  <meta property="og:type" content="Website"/>
  <meta property="og:author" content="appkr (juwonkim@me.com)"/>
  <meta property="og:image" content=""/>

  <!-- Google+ Meta -->
  <meta itemprop="name" content="라라벨 5 입문 및 실전 / 35강 - 다국어 지원">
  <meta itemprop="description" content="서버 측에서 사용자의 언어 선호를 기억하여, 사용자가 로그인하지 않아도 자국어로 서비스할 수 있는 방법을 같이 연구해 본다.">
  <meta itemprop="image" content="">
  <meta itemprop="author" content="appkr (juwonkim@me.com)"/>

  <!-- Twitter Meta -->
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@appkrs"/>
  <meta name="twitter:title" content="라라벨 5 입문 및 실전 / 35강 - 다국어 지원"/>
  <meta name="twitter:description" content="서버 측에서 사용자의 언어 선호를 기억하여, 사용자가 로그인하지 않아도 자국어로 서비스할 수 있는 방법을 같이 연구해 본다."/>
  <meta name="twitter:image" content=""/>
  <meta name="twitter:domain" content="http://l5.appkr.kr/">

  <!-- Mobile and Rss -->
  <link rel="canonical" href="http://l5.appkr.kr/"/>

  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700"/>
  <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/nanumgothic.css"/>
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons"/>
  <link rel="stylesheet" href="/css/main.css">

  <title>라라벨 5 입문 및 실전 / 35강 - 다국어 지원</title>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body id="#app">
  <nav class="navbar navbar-fixed-top role="navigation">

  <div class="container-fluid">
    <div class="navbar-header">
      <a href="/" class="navbar-brand">
        <i class="material-icons">school</i>
        라라벨 5 입문 및 실전
      </a>
    </div>
  </div>
</nav>
  <div class="container">
    <div class="row">
      <aside id="sidebar" class="col-md-3">
        <ul>
                      <li  index="0" current-index="36">
              <a href="/lessons/01-welcome.html">1강 - 처음 만나는 라라벨</a>
            </li>
                      <li  index="1" current-index="36">
              <a href="/lessons/02-hello-laravel.html">2강 - 라라벨 5 설치하기</a>
            </li>
                      <li  index="2" current-index="36">
              <a href="/lessons/02-install-on-windows.html">2강 - 라라벨 5 설치하기 (on Windows)</a>
            </li>
                      <li  index="3" current-index="36">
              <a href="/lessons/03-configuration.html">3강 - 글로벌 설정 살펴보기</a>
            </li>
                      <li  index="4" current-index="36">
              <a href="/lessons/04-routing-basics.html">4강 - Routing 기본기</a>
            </li>
                      <li  index="5" current-index="36">
              <a href="/lessons/05-pass-data-to-view.html">5강 - 뷰에 데이터 바인딩하기</a>
            </li>
                      <li  index="6" current-index="36">
              <a href="/lessons/06-blade-101.html">6강 - 블레이드 101</a>
            </li>
                      <li  index="7" current-index="36">
              <a href="/lessons/07-blade-201.html">7강 - 블레이드 201</a>
            </li>
                      <li  index="8" current-index="36">
              <a href="/lessons/08-raw-queries.html">8강 - 날 쿼리 :(</a>
            </li>
                      <li  index="9" current-index="36">
              <a href="/lessons/09-query-builder.html">9강 - 쿼리 빌더</a>
            </li>
                      <li  index="10" current-index="36">
              <a href="/lessons/10-eloquent.html">10강 - 엘로퀀트 ORM</a>
            </li>
                      <li  index="11" current-index="36">
              <a href="/lessons/11-migration.html">11강 - DB 마이그레이션</a>
            </li>
                      <li  index="12" current-index="36">
              <a href="/lessons/12-controller.html">12강 - 컨트롤러</a>
            </li>
                      <li  index="13" current-index="36">
              <a href="/lessons/13-restful-resource-controller.html">13강 - RESTful 리소스 컨트롤러</a>
            </li>
                      <li  index="14" current-index="36">
              <a href="/lessons/14-named-routes.html">14강 - 이름 있는 Route</a>
            </li>
                      <li  index="15" current-index="36">
              <a href="/lessons/15-nested-resources.html">15강 - 중첩된 리소스</a>
            </li>
                      <li  index="16" current-index="36">
              <a href="/lessons/16-authentication.html">16강 - 사용자 인증 기본기</a>
            </li>
                      <li  index="17" current-index="36">
              <a href="/lessons/17-authentication-201.html">17강 - 라라벨에 내장된 사용자 인증</a>
            </li>
                      <li  index="18" current-index="36">
              <a href="/lessons/18-eloquent-relationships.html">18강 - 모델간 관계 맺기</a>
            </li>
                      <li  index="19" current-index="36">
              <a href="/lessons/19-seeder.html">19강 - 데이터 심기</a>
            </li>
                      <li  index="20" current-index="36">
              <a href="/lessons/20-eager-loading.html">20강 - Eager 로딩</a>
            </li>
                      <li  index="21" current-index="36">
              <a href="/lessons/20-1-pagination.html">추가 - 페이징</a>
            </li>
                      <li  index="22" current-index="36">
              <a href="/lessons/21-mail.html">21강 - 메일 보내기</a>
            </li>
                      <li  index="23" current-index="36">
              <a href="/lessons/22-events.html">22강 - 이벤트</a>
            </li>
                      <li  index="24" current-index="36">
              <a href="/lessons/23-validation.html">23강 - 입력 값 유효성 검사</a>
            </li>
                      <li  index="25" current-index="36">
              <a href="/lessons/24-exception-handling.html">24강 - 예외 처리</a>
            </li>
                      <li  index="26" current-index="36">
              <a href="/lessons/25-composer.html">25강 - 컴포저</a>
            </li>
                      <li  index="27" current-index="36">
              <a href="/lessons/26-document-model.html">26강 - Document 모델</a>
            </li>
                      <li  index="28" current-index="36">
              <a href="/lessons/27-document-controller.html">27강 - Document 컨트롤러</a>
            </li>
                      <li  index="29" current-index="36">
              <a href="/lessons/28-cache.html">28강 - Cache</a>
            </li>
                      <li  index="30" current-index="36">
              <a href="/lessons/29-elixir.html">29강 - Elixir, 만병통치약?</a>
            </li>
                      <li  index="31" current-index="36">
              <a href="/lessons/30-final-touch.html">30강 - Debug &amp; Final Touch</a>
            </li>
                      <li  index="32" current-index="36">
              <a href="/lessons/31-forum-features.html">31강 - 포럼 요구사항 기획</a>
            </li>
                      <li  index="33" current-index="36">
              <a href="/lessons/32-login.html">32강 - 사용자 로그인</a>
            </li>
                      <li  index="34" current-index="36">
              <a href="/lessons/33-social-login.html">33강 - 소셜 로그인</a>
            </li>
                      <li  index="35" current-index="36">
              <a href="/lessons/34-role.html">34강 - 사용자 역할</a>
            </li>
                      <li class="active" index="36" current-index="36">
              <a href="/lessons/35-locale.html">35강 - 다국어 지원</a>
            </li>
                      <li  index="37" current-index="36">
              <a href="/lessons/36-models.html">36강 - 마이그레이션과 모델</a>
            </li>
                      <li  index="38" current-index="36">
              <a href="/lessons/37-articles.html">37강 - Article 기능 구현</a>
            </li>
                      <li  index="39" current-index="36">
              <a href="/lessons/38-tags.html">38강 - Tag 기능 구현</a>
            </li>
                      <li  index="40" current-index="36">
              <a href="/lessons/39-attachments.html">39강 - Attachment 기능 구현</a>
            </li>
                      <li  index="41" current-index="36">
              <a href="/lessons/32n33-auth-refactoring.html">32/33 보충 - 인증 리팩토링</a>
            </li>
                      <li  index="42" current-index="36">
              <a href="/lessons/40-comments.html">40강 - Comment 기능 구현</a>
            </li>
                      <li  index="43" current-index="36">
              <a href="/lessons/41-ui-makeup.html">41강 - UI 개선</a>
            </li>
                      <li  index="44" current-index="36">
              <a href="/lessons/42-be-makeup.html">42강 - 서버 사이드 개선</a>
            </li>
                      <li  index="45" current-index="36">
              <a href="/lessons/43-change-note.html">43강 - 변경 사항 알림</a>
            </li>
                      <li  index="46" current-index="36">
              <a href="/lessons/44-api-basic.html">44강 - API 기본기 및 기획</a>
            </li>
                      <li  index="47" current-index="36">
              <a href="/lessons/45-api-big-picture.html">45강 - 기본 구조 잡기</a>
            </li>
                      <li  index="48" current-index="36">
              <a href="/lessons/46-jwt.html">46강 - JWT 를 이용한 인증</a>
            </li>
                      <li  index="49" current-index="36">
              <a href="/lessons/47-dry-refactoring.html">47강 - 중복 제거 리팩토링</a>
            </li>
                      <li  index="50" current-index="36">
              <a href="/lessons/48-all-is-bad.html">48강 - all() is bad</a>
            </li>
                      <li  index="51" current-index="36">
              <a href="/lessons/49-rate-limit.html">49강 - API Rate Limit</a>
            </li>
                      <li  index="52" current-index="36">
              <a href="/lessons/50-id-obfuscation.html">50강 - 리소스 id 난독화</a>
            </li>
                      <li  index="53" current-index="36">
              <a href="/lessons/51-cors.html">51강 - CORS</a>
            </li>
                      <li  index="54" current-index="36">
              <a href="/lessons/52-caching.html">52강 - Caching</a>
            </li>
                      <li  index="55" current-index="36">
              <a href="/lessons/53-partial-response.html">53강 - Partial Response</a>
            </li>
                      <li  index="56" current-index="36">
              <a href="/lessons/54-api-docs.html">54강 - API Documents</a>
            </li>
                      <li  index="57" current-index="36">
              <a href="/lessons/02-install-homestead-osx.html">Homestead 설치 (on Mac)</a>
            </li>
                      <li  index="58" current-index="36">
              <a href="/lessons/02-install-homestead-windows.html">Homestead 설치 (on Windows)</a>
            </li>
                      <li  index="59" current-index="36">
              <a href="/lessons/999-code-release.html">코드 배포</a>
            </li>
                  </ul>
      </aside>

      <div class="col-md-9">
        <article id="article">
                      <nav id="pagination">
  <ul class="pager pager-top">
    <li class="previous ">
      <a href="/lessons/34-role.html">
        <span class="pager-title-sm">
          <i class="material-icons">keyboard_arrow_left</i>
        </span>
        <span class="pager-title">
          34강 - 사용자 역할
        </span>
      </a>
    </li>
    <li class="next ">
      <a href="/lessons/36-models.html">
        <span class="pager-title">
          36강 - 마이그레이션...
        </span>
        <span class="pager-title-sm">
          <i class="material-icons">keyboard_arrow_right</i>
        </span>
      </a>
    </li>
  </ul>
</nav>
            <hr/>

            <h1>실전 프로젝트 2 - Forum</h1>
<h2>35강 - 다국어 지원</h2>
<p>필자도 좀 오버했다는 생각이 들긴 한다. 그래도 기획에 들어 있는 내용이니 해 보자.</p>
<h3>설계 의사 결정</h3>
<p>생각을 해 보자. 뷰(UI)에 제시된 영어/한국어 선택지 중 사용자가 선호하는 언어를 선택한다. </p>
<blockquote>
<p>Q : 사용자의 선호를 서비스에 어떻게 전달할 것인가?
A : 링크에 쿼리스트링으로 달아서 사용자 선택값을 전달하도록 하자. </p>
</blockquote>
<p>사용자의 선호를 기억해 두었다가 다음번에 방문했을 때는 링크 선택지를 다시 누르지 않고 기존에 선택한 언어로 서비스가 제공되어야 한다. 기억해둔다 == 저장한다. </p>
<blockquote>
<p>Q : 어디에 저장할 것인가?
A : 필자는 쿠키로 선택했다. User 모델에 써 두는 것은 사용자가 로그인 하기 전에 알 수 없기 때문이다.</p>
</blockquote>
<p>그런데, 잘 생각해 보면, </p>
<blockquote>
<p>Q : 브라우저 요청에 따라 서버에서 뷰를 만들고 응답하기 전에 언어값이 반영되어야 한다.
A : 즉, 브라우저의 요청에 붙은 쿠키값을 읽어 라라벨이 부트업되는 시점부터 전체 프레임웍의 언어가 바뀌어 있어야 한다는 의미다. </p>
</blockquote>
<p>어렵다~</p>
<p><strong><code>잡담</code></strong> 쿠키는 프론트엔드, 즉 브라우저에 저장된다. 가령, 폰트 사이즈에 대한 사용자 설정이라면 서버를 거칠 필요가 없이 자바스크립트에서 미리 저장된 쿠키 또는 localStorage 를 읽어서 동적으로 CSS 속성을 변경하면 된다. 그런데, 폰트 사이즈가 아니다. AngularJS와 같은 프론트엔드 프레임웍을 사용한다면, 서버에서 언어 딕셔너리 전체를 JSON으로 내려받고, 사용자가 브라우저에 저장한 값을 읽어 컨트롤러나 뷰모델에서 런타임에 동적으로 스트링들을 바꿀 수도 있다. 서버 로드를 줄이는 측면에서 좋지만, 프론트엔드쪽의 코드량이나 메모리 사용량이 늘어난다. 결국은 BE개발자와 FE개발자간의 폭탄 떠넘기기 문제이다.</p>
<h3>공유된 뷰 데이터</h3>
<p>전혀 관련없어 보이지만, 좀 있어 보면 왜 이걸 했는지 안다~. 컨트롤러에서 뷰를 반환할 때 뷰에서 쓸 데이터를 바인딩하는 것으로 입문코스에서 배웠다. 데이터 중에서는 뷰마다 달라지지 않을 뿐 더러, 모든 뷰에서 가지고 있으면 편리한 데이터들이 있다. 이 때 <code>View::share(string $key, mixed $value)</code> 메소드를 이용한다. 모든 컨트롤러가 상속하는 app/Http/Controllers/Controller.php 의 생성자에서 뷰에 쓰일 공통 데이터를 공유해 보자.</p>
<pre><code class="language-php">abstract class Controller extends BaseController
{
    public function __construct() {
        $this-&gt;setSharedVariables();
    }

    protected function setSharedVariables() {
        view()-&gt;share('currentLocale', app()-&gt;getLocale());
        view()-&gt;share('currentUser', auth()-&gt;user());
        view()-&gt;share('currentRouteName', \Route::currentRouteName());
        view()-&gt;share('currentUrl', \Request::fullUrl());
    }
}</code></pre>
<p><strong><code>주의-주의-주의</code></strong> abstract Controller에서 생성자를 사용했으므로, 이를 상속 받는 컨트롤러들이 생성자를 사용하고 있다면, 반드시 <code>parent::__construct()</code> 를 호출해 주어야 하다는 점이다. DocumentsController, WelcomeController, AuthController, PasswordController 에 적용하자. 적용하지 않으면 <code>$current*</code> 변수가 없어서 에러가 난다.</p>
<pre><code class="language-php">class DocumentsController extends Controller
{
    public function __construct(Document $document)
    {
        $this-&gt;document = $document;
        parent::__construct();
    }
    ...
}</code></pre>
<h3>뷰를 수정하자.</h3>
<p>사용자가 언어를 토글할 수 있는 방법은 뷰이다. 앞선 강좌에서 resources/views/layouts/footer.blade.php 를 언어 선택을 위한 정적 메뉴를 만들었던 것을 기억할 것이다. 동적 메뉴로 고치자.</p>
<pre><code class="language-html">&lt;footer class="footer"&gt;
  &lt;ul class="list-inline pull-right locale"&gt;
    &lt;li&gt;&lt;i class="fa fa-language"&gt;&lt;/i&gt;&lt;/li&gt;
    @foreach (['en' =&gt; 'English', 'ko' =&gt; '한국어'] as $locale =&gt; $language)
      &lt;li class="{{ ($locale == $currentLocale) ? 'active' : '' }}"&gt;
        &lt;a href="{{ route('locale', ['locale' =&gt; $locale, 'return' =&gt; urlencode($currentUrl)]) }}"&gt;
          {{ $language }}
        &lt;/a&gt;
      &lt;/li&gt;
    @endforeach
  &lt;/ul&gt;

  ...
&lt;/footer&gt;</code></pre>
<p><code>@foreach</code>로 루프를 돌면서 링크를 뿌리고 있다. <code>$currentLocale</code>, <code>$currentUrl</code> 변수는 앞 절에서 공유된 뷰 데이터이다. 이 partial 뷰는 마스터 뷰에 포함되어 있고, 마스터 뷰를 이용하는 어떤 뷰라도 컴파일될 때, 이 변수들은 사용할 수 있다. English와 한국어 중 사용자가 선택한 언어에 'active' 클래스를 표시하기 위해 3항 연산자를 사용했고, 언어 변경 요청후 현재 Url로 다시 돌아 오기 위해 return 이란 쿼리스트링을 달았다. </p>
<h3>Route &amp; 컨트롤러 정의</h3>
<p>사용자가 뷰에서 누른 언어 변경 요청 링크에 응답하는 Route를 만들고, 컨트롤러에 연결하자.</p>
<pre><code class="language-php">Route::get('locale', [
    'as' =&gt; 'locale',
    'uses' =&gt; 'WelcomeController@locale'
]);</code></pre>
<p>WelcomeController를 수정한다. <code>Cookie::forever(string $key, mixed $value)</code> 메소드를 이용해서 브라우저의 요청에서 넘겨 받은 쿼리스트링의 locale 값으로(== 'en' or 'ko') 쿠키 인스턴스를 만들었다. 만들어진 쿠키 인스턴스를 다음 응답에 실어서 보내기 위해서 <code>Cookie::queue()</code> 로 예약을 걸어 두었다. 그 다음 Redirect 응답을 만드는데, 쿼리스트링에 return 값이 있을 때와 없을 때를 3항 연산자로 분기시켰다.</p>
<pre><code class="language-php">class WelcomeController extends Controller
{
    public function __construct()
    {
        $this-&gt;middleware('auth', ['only' =&gt; ['home']]);
        parent::__construct();
    }

    ...

    public function locale()
    {
        $cookie = cookie()-&gt;forever('locale__myProject', request('locale'));

        cookie()-&gt;queue($cookie);

        return ($return = request('return'))
            ? redirect(urldecode($return))-&gt;withCookie($cookie)
            : redirect(route('home'))-&gt;withCookie($cookie);
    }
}</code></pre>
<p>여기서 서버를 띄우고 홈페이지로 접근해서 footer 영역에서 '한국어' 링크를 눌러보자.</p>
<p><strong><code>참고</code></strong> 라라벨이 내 보내는 쿠키는 해킹 툴들로 값을 조작하는 것을 방지하지 위해 암호화 되어 있다. <code>Crypt::decrypt(string $payload)</code> 메소드로 풀어서 써야 한다. </p>
<p><img src="./images/35-locale-img-01.png" alt="" /></p>
<p>브라우저에 저장된 쿠키 값을 읽어서 tinker 로 해독해 보았다.</p>
<pre><code class="language-bash">$ php artisan tinker
&gt;&gt;&gt; Crypt::decrypt('eyJ...SJ9');
=&gt; "ko"</code></pre>
<p>그런데, 아무리 눌러도 '한국어' 링크가 active 상태로 바뀌지 않는다.</p>
<h3>AppServiceProvider</h3>
<p>우리가 이제까지 작업한 것은 쿠키 값을 셋팅하는 행위였을 뿐이다. 런타임에 기본 언어를 바꾸라고 라라벨에게 어떤 명령도 하지 않았다. app/Providers/AppServiceProvider.php 를 수정하자. <code>Request::cookie(string $key)</code> 메소드로 앞서 브라우저와 주고 받은 쿠키 값을 읽어 와서 <code>App::setLocale(string $locale)</code> 메소드로 기본 언어를 바꾸라고 라라벨에게 명령했다.</p>
<pre><code class="language-php">class AppServiceProvider extends ServiceProvider
{
    public function boot()
    {
        if ($locale = request()-&gt;cookie('locale__myProject')) {
            app()-&gt;setLocale(\Crypt::decrypt($locale));
        }
    }
    ...
}</code></pre>
<p>다시 확인해 보자. 이제 잘 될 것이다.</p>
<p><strong><code>참고</code></strong> ServiceProvider의 <code>boot()</code>와 <code>register()</code> 메소드들은 라라벨이 부트업될 때 실행된다. 둘 간의 차이점은 <a href="http://laravel.com/docs/master/providers#writing-service-providers">공식문서</a>에 잘 설명되어 있다. 쉽게 <code>register()</code>에서는 외부에서 가져온 인스턴스 생성등 라라벨 프레임웍과 크게 무관한 작업을, <code>boot()</code>에서는 프레임웍의 기능이 어느 정도 살아 나서, 사용자 코드들을 수행하기 직전에 수행된다고 생각하면 된다. 즉, <code>register()</code> 에서는 Helper나 Event 등이 동작하지 않는 상태인 것이다. </p>
<h3>기본 언어 설정</h3>
<p>기본 언어는 config/app.php 에 'locale' 키로 설정되어 있다. 앞에서 우리가 한 것은 런타임에 언어를 바꾸라고 변경한 것이다 'fallback_locale'은 곧 배울 <code>trans(string $key)</code> Helper 에서 $key 에 해당하는 언어별 스트링 정의가 없을 경우, 폴백되는 언어 설정의 의미한다. </p>
<pre><code class="language-php">return [
    'locale' =&gt; 'en',
    'fallback_locale' =&gt; 'en',
];</code></pre>
<h3>언어 파일 만들기</h3>
<p>뷰에서 <code>trans(string $key)</code> 로 언어 파일을 사용할 수 있다. 언어 딕셔너리들은 resources/lang 아래에 정의되어 있다. 현재는 'en' 디렉토리만 존재하는데, 기본언어 또는 런타임에 설정한 언어가 'en' 이라면, 'en' 디렉토리 밑에서 <code>$key</code> 값을 찾게 된다. 즉, ko 란 디렉토리를 만들고, 딕셔너리를 정의해 놓으면 한국어 서비스를 할 수 있다는 의미이다.</p>
<p>그리고, 뷰에 하드코드로 박아놓은 스트링들은 <code>{{ trans('auth.failed') }}</code> 식으로 모두 바꾸도록 하자.</p>
<pre><code class="language-bash">$ php artisan tinker
&gt;&gt;&gt; trans('auth.failed');
=&gt; "These credentials do not match our records."
&gt;&gt;&gt; app()-&gt;setLocale('ko');
&gt;&gt;&gt; trans('auth.failed');
=&gt; "로그인 정보가 정확하지 않습니다."</code></pre>
<p>필자는 resources/lang/en/auth.php에 딕셔너리 키들을 더 추가하고, documents.php와 forum.php 를 추가로 생성했다. 이 부분은 코드를 참고해서 각자 알아서 하셔야 한다. </p>
<p>딕셔너리에서 변수를 사용하는 예 살펴보자. 딕셔너리에서 <code>'key' =&gt; '... :변수명 ...'</code> 으로 쓰고, 뷰에서 <code>trans('key', ['변수명' =&gt; '바인딩 할 값'])</code>식으로 사용한다는 것을 기억하자.</p>
<pre><code class="language-php">// resources/lang/en/auth.php
return [
    'title_signup_help' =&gt; '... Please &lt;a href=":url"&gt;login via Github&lt;/a&gt; ...',
];</code></pre>
<pre><code class="language-html">&lt;!-- resoucres/views/auth/register.blade.php --&gt;
&lt;p class="text-muted"&gt;
  {!!  trans('auth.title_signup_help', ['url' =&gt; route('session.create')]) !!}
&lt;/p&gt;</code></pre>
<h2><code>icon()</code> Helper</h2>
<p>다국어와 뷰를 작업하는 김에...
<code>icon()</code> Helper는 뷰에서 호출했을 때, FontAwesome 아이콘을 뿌리기 위한 HTML 스트링을 반환해 주는 역할을 할 것이다. <code>route()</code> Helper랑 마찬가지로 Route 이름을 넣어줄거냐? 하드코드로 뷰나 컨트롤러에 Url을 박아 넣을 거냐?의 의사결정인 것이다. 프로젝트의 성격(규모)나 개인의 선호도에 달린 것이므로 어떻게 구현할지는 각자가 알아서 선택하도록 하자.</p>
<pre><code class="language-php">// app/helpers.php
...
if (! function_exists('icon')) {
    function icon($class, $addition = 'icon', $inline = null) {
        $icon   = config('icons.' . $class);
        $inline = $inline ? 'style="' . $inline . '"' : null;

        return sprintf('&lt;i class="%s %s" %s&gt;&lt;/i&gt;', $icon, $addition, $inline);
    }
}</code></pre>
<pre><code class="language-php">// config/icons.php
return [
    'login'       =&gt; 'fa fa-sign-in',
    ...,
];</code></pre>
<pre><code class="language-html">&lt;!-- resources/views/auth/login.blade.php --&gt;
...
&lt;li&gt;
  &lt;a href="{{ route('session.create') }}"&gt;{!! icon('login') !!} {{ trans('auth.title_login') }}&lt;/a&gt;
&lt;/li&gt;
...</code></pre>
<p><img src="./images/35-locale-img-02.png" alt="" /></p>
<!--@start-->
<hr />
<ul>
<li><a href="../readme.md">목록으로 돌아가기</a></li>
<li><a href="34-role.md">34강 - 사용자 역할</a></li>
<li><a href="36-models.md">36강 - 마이그레이션과 모델</a>
<!--@end--></li>
</ul>

            <hr/>

            <nav id="pagination">
  <ul class="pager pager-bottom">
    <li class="previous ">
      <a href="/lessons/34-role.html">
        <span class="pager-title-sm">
          <i class="material-icons">keyboard_arrow_left</i>
        </span>
        <span class="pager-title">
          34강 - 사용자 역할
        </span>
      </a>
    </li>
    <li class="next ">
      <a href="/lessons/36-models.html">
        <span class="pager-title">
          36강 - 마이그레이션...
        </span>
        <span class="pager-title-sm">
          <i class="material-icons">keyboard_arrow_right</i>
        </span>
      </a>
    </li>
  </ul>
</nav>                  </article>

        <hr class="divider">

        <div id="comment">
          <div class="comments" style="margin-bottom: 30px;">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//l5lessons.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  <!--script id="dsq-count-scr" src="//l5lessons.disqus.com/count.js" async></script-->
</div>        </div>
      </div>
    </div>
  </div>

  <div id="toggler">
    <a href="#" title="Open Menu">
      목록 토글
    </a>
  </div>

  <footer id="footer">
  <div>
    &copy; 2017 &nbsp; <a href="https://github.com/appkr">appkr</a> •
    Built with <a href="http://jigsaw.tighten.co/">Jigsaw</a> •
    Hosted by <a href="https://pages.github.com/">Github</a> •
    <a href="/feed.xml">Rss</a>
  </div>
</footer>

<div id="back-to-top">
  <a href="#" title="Scroll to Top">
    <i class="material-icons">keyboard_arrow_up</i>
  </a>
</div>
  <script src="/js/all.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-71112324-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>

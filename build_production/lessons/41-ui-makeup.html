<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>

  <meta name="description" content="제목대로 UI를 개선한다. 포럼 글을 마크다운으로 쓸 때, 미리 보기 기능을 제공하고, 최종 작성된 글도 코드 하이라이트를 입히는 등의 작업을 한다."/>
  <meta name="google-site-verification" content=""/>
  <meta name="naver-site-verification" content=""/>

  <meta name="msapplication-tap-highlight" content="no"/>

  <!-- Facebook Meta -->
  <meta property="og:title" content="라라벨 5 입문 및 실전 / 41강 - UI 개선"/>
  <meta property="og:type" content="Website"/>
  <meta property="og:author" content="appkr (juwonkim@me.com)"/>
  <meta property="og:image" content=""/>

  <!-- Google+ Meta -->
  <meta itemprop="name" content="라라벨 5 입문 및 실전 / 41강 - UI 개선">
  <meta itemprop="description" content="제목대로 UI를 개선한다. 포럼 글을 마크다운으로 쓸 때, 미리 보기 기능을 제공하고, 최종 작성된 글도 코드 하이라이트를 입히는 등의 작업을 한다.">
  <meta itemprop="image" content="">
  <meta itemprop="author" content="appkr (juwonkim@me.com)"/>

  <!-- Twitter Meta -->
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@appkrs"/>
  <meta name="twitter:title" content="라라벨 5 입문 및 실전 / 41강 - UI 개선"/>
  <meta name="twitter:description" content="제목대로 UI를 개선한다. 포럼 글을 마크다운으로 쓸 때, 미리 보기 기능을 제공하고, 최종 작성된 글도 코드 하이라이트를 입히는 등의 작업을 한다."/>
  <meta name="twitter:image" content=""/>
  <meta name="twitter:domain" content="http://l5.appkr.kr/">

  <!-- Mobile and Rss -->
  <link rel="canonical" href="http://l5.appkr.kr/"/>

  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700"/>
  <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/nanumgothic.css"/>
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons"/>
  <link rel="stylesheet" href="/css/main.css">

  <title>라라벨 5 입문 및 실전 / 41강 - UI 개선</title>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body id="#app">
  <nav class="navbar navbar-fixed-top role="navigation">

  <div class="container-fluid">
    <div class="navbar-header">
      <a href="/" class="navbar-brand">
        <i class="material-icons">school</i>
        라라벨 5 입문 및 실전
      </a>
    </div>
  </div>
</nav>
  <div class="container">
    <div class="row">
      <aside id="sidebar" class="col-md-3">
        <ul>
                      <li  index="0" current-index="43">
              <a href="/lessons/01-welcome.html">1강 - 처음 만나는 라라벨</a>
            </li>
                      <li  index="1" current-index="43">
              <a href="/lessons/02-hello-laravel.html">2강 - 라라벨 5 설치하기</a>
            </li>
                      <li  index="2" current-index="43">
              <a href="/lessons/02-install-on-windows.html">2강 - 라라벨 5 설치하기 (on Windows)</a>
            </li>
                      <li  index="3" current-index="43">
              <a href="/lessons/03-configuration.html">3강 - 글로벌 설정 살펴보기</a>
            </li>
                      <li  index="4" current-index="43">
              <a href="/lessons/04-routing-basics.html">4강 - Routing 기본기</a>
            </li>
                      <li  index="5" current-index="43">
              <a href="/lessons/05-pass-data-to-view.html">5강 - 뷰에 데이터 바인딩하기</a>
            </li>
                      <li  index="6" current-index="43">
              <a href="/lessons/06-blade-101.html">6강 - 블레이드 101</a>
            </li>
                      <li  index="7" current-index="43">
              <a href="/lessons/07-blade-201.html">7강 - 블레이드 201</a>
            </li>
                      <li  index="8" current-index="43">
              <a href="/lessons/08-raw-queries.html">8강 - 날 쿼리 :(</a>
            </li>
                      <li  index="9" current-index="43">
              <a href="/lessons/09-query-builder.html">9강 - 쿼리 빌더</a>
            </li>
                      <li  index="10" current-index="43">
              <a href="/lessons/10-eloquent.html">10강 - 엘로퀀트 ORM</a>
            </li>
                      <li  index="11" current-index="43">
              <a href="/lessons/11-migration.html">11강 - DB 마이그레이션</a>
            </li>
                      <li  index="12" current-index="43">
              <a href="/lessons/12-controller.html">12강 - 컨트롤러</a>
            </li>
                      <li  index="13" current-index="43">
              <a href="/lessons/13-restful-resource-controller.html">13강 - RESTful 리소스 컨트롤러</a>
            </li>
                      <li  index="14" current-index="43">
              <a href="/lessons/14-named-routes.html">14강 - 이름 있는 Route</a>
            </li>
                      <li  index="15" current-index="43">
              <a href="/lessons/15-nested-resources.html">15강 - 중첩된 리소스</a>
            </li>
                      <li  index="16" current-index="43">
              <a href="/lessons/16-authentication.html">16강 - 사용자 인증 기본기</a>
            </li>
                      <li  index="17" current-index="43">
              <a href="/lessons/17-authentication-201.html">17강 - 라라벨에 내장된 사용자 인증</a>
            </li>
                      <li  index="18" current-index="43">
              <a href="/lessons/18-eloquent-relationships.html">18강 - 모델간 관계 맺기</a>
            </li>
                      <li  index="19" current-index="43">
              <a href="/lessons/19-seeder.html">19강 - 데이터 심기</a>
            </li>
                      <li  index="20" current-index="43">
              <a href="/lessons/20-eager-loading.html">20강 - Eager 로딩</a>
            </li>
                      <li  index="21" current-index="43">
              <a href="/lessons/20-1-pagination.html">추가 - 페이징</a>
            </li>
                      <li  index="22" current-index="43">
              <a href="/lessons/21-mail.html">21강 - 메일 보내기</a>
            </li>
                      <li  index="23" current-index="43">
              <a href="/lessons/22-events.html">22강 - 이벤트</a>
            </li>
                      <li  index="24" current-index="43">
              <a href="/lessons/23-validation.html">23강 - 입력 값 유효성 검사</a>
            </li>
                      <li  index="25" current-index="43">
              <a href="/lessons/24-exception-handling.html">24강 - 예외 처리</a>
            </li>
                      <li  index="26" current-index="43">
              <a href="/lessons/25-composer.html">25강 - 컴포저</a>
            </li>
                      <li  index="27" current-index="43">
              <a href="/lessons/26-document-model.html">26강 - Document 모델</a>
            </li>
                      <li  index="28" current-index="43">
              <a href="/lessons/27-document-controller.html">27강 - Document 컨트롤러</a>
            </li>
                      <li  index="29" current-index="43">
              <a href="/lessons/28-cache.html">28강 - Cache</a>
            </li>
                      <li  index="30" current-index="43">
              <a href="/lessons/29-elixir.html">29강 - Elixir, 만병통치약?</a>
            </li>
                      <li  index="31" current-index="43">
              <a href="/lessons/30-final-touch.html">30강 - Debug &amp; Final Touch</a>
            </li>
                      <li  index="32" current-index="43">
              <a href="/lessons/31-forum-features.html">31강 - 포럼 요구사항 기획</a>
            </li>
                      <li  index="33" current-index="43">
              <a href="/lessons/32-login.html">32강 - 사용자 로그인</a>
            </li>
                      <li  index="34" current-index="43">
              <a href="/lessons/33-social-login.html">33강 - 소셜 로그인</a>
            </li>
                      <li  index="35" current-index="43">
              <a href="/lessons/34-role.html">34강 - 사용자 역할</a>
            </li>
                      <li  index="36" current-index="43">
              <a href="/lessons/35-locale.html">35강 - 다국어 지원</a>
            </li>
                      <li  index="37" current-index="43">
              <a href="/lessons/36-models.html">36강 - 마이그레이션과 모델</a>
            </li>
                      <li  index="38" current-index="43">
              <a href="/lessons/37-articles.html">37강 - Article 기능 구현</a>
            </li>
                      <li  index="39" current-index="43">
              <a href="/lessons/38-tags.html">38강 - Tag 기능 구현</a>
            </li>
                      <li  index="40" current-index="43">
              <a href="/lessons/39-attachments.html">39강 - Attachment 기능 구현</a>
            </li>
                      <li  index="41" current-index="43">
              <a href="/lessons/32n33-auth-refactoring.html">32/33 보충 - 인증 리팩토링</a>
            </li>
                      <li  index="42" current-index="43">
              <a href="/lessons/40-comments.html">40강 - Comment 기능 구현</a>
            </li>
                      <li class="active" index="43" current-index="43">
              <a href="/lessons/41-ui-makeup.html">41강 - UI 개선</a>
            </li>
                      <li  index="44" current-index="43">
              <a href="/lessons/42-be-makeup.html">42강 - 서버 사이드 개선</a>
            </li>
                      <li  index="45" current-index="43">
              <a href="/lessons/43-change-note.html">43강 - 변경 사항 알림</a>
            </li>
                      <li  index="46" current-index="43">
              <a href="/lessons/44-api-basic.html">44강 - API 기본기 및 기획</a>
            </li>
                      <li  index="47" current-index="43">
              <a href="/lessons/45-api-big-picture.html">45강 - 기본 구조 잡기</a>
            </li>
                      <li  index="48" current-index="43">
              <a href="/lessons/46-jwt.html">46강 - JWT 를 이용한 인증</a>
            </li>
                      <li  index="49" current-index="43">
              <a href="/lessons/47-dry-refactoring.html">47강 - 중복 제거 리팩토링</a>
            </li>
                      <li  index="50" current-index="43">
              <a href="/lessons/48-all-is-bad.html">48강 - all() is bad</a>
            </li>
                      <li  index="51" current-index="43">
              <a href="/lessons/49-rate-limit.html">49강 - API Rate Limit</a>
            </li>
                      <li  index="52" current-index="43">
              <a href="/lessons/50-id-obfuscation.html">50강 - 리소스 id 난독화</a>
            </li>
                      <li  index="53" current-index="43">
              <a href="/lessons/51-cors.html">51강 - CORS</a>
            </li>
                      <li  index="54" current-index="43">
              <a href="/lessons/52-caching.html">52강 - Caching</a>
            </li>
                      <li  index="55" current-index="43">
              <a href="/lessons/53-partial-response.html">53강 - Partial Response</a>
            </li>
                      <li  index="56" current-index="43">
              <a href="/lessons/54-api-docs.html">54강 - API Documents</a>
            </li>
                      <li  index="57" current-index="43">
              <a href="/lessons/02-install-homestead-osx.html">Homestead 설치 (on Mac)</a>
            </li>
                      <li  index="58" current-index="43">
              <a href="/lessons/02-install-homestead-windows.html">Homestead 설치 (on Windows)</a>
            </li>
                      <li  index="59" current-index="43">
              <a href="/lessons/999-code-release.html">코드 배포</a>
            </li>
                  </ul>
      </aside>

      <div class="col-md-9">
        <article id="article">
                      <nav id="pagination">
  <ul class="pager pager-top">
    <li class="previous ">
      <a href="/lessons/40-comments.html">
        <span class="pager-title-sm">
          <i class="material-icons">keyboard_arrow_left</i>
        </span>
        <span class="pager-title">
          40강 - Comment 기능...
        </span>
      </a>
    </li>
    <li class="next ">
      <a href="/lessons/42-be-makeup.html">
        <span class="pager-title">
          42강 - 서버 사이드...
        </span>
        <span class="pager-title-sm">
          <i class="material-icons">keyboard_arrow_right</i>
        </span>
      </a>
    </li>
  </ul>
</nav>
            <hr/>

            <h1>실전 프로젝트 2 - Forum</h1>
<h2>41강 - UI 개선</h2>
<p>이번 강에서 전반적인 UI 개선 작업을 하고, 다음 강에서는 이벤트, 알림, 캐싱 등 서버 사이드 쪽 개선 작업을 하도록 하자. 먼저 무엇을 개선할지 정의하자.</p>
<ol>
<li>포럼 본문 또는 댓글을 쓸 때
<ol>
<li>사용자가 입력하는 내용을 실시간으로 마크다운 컴파일하여 보여준다.</li>
<li>textarea 요소에서 코드를 쓸 경우를 대비해, <kbd>Tab</kbd> 키 입력을 지원하자. (원래는 <kbd>Tab</kbd> 키를 치면 다음 요소로 이동해 버린다.)</li>
<li>사용자가 입력한 내용이 길어지는 것을 대비해, textarea 요소의 크기를 입력 내용의 양에 따라 자동으로 조절하자.</li>
</ol></li>
<li>마크다운 문법을 잘 모르는 사용자를 배려하여, 사용법을 페이지에서 보여주자.</li>
<li>파일 첨부 UI를 토글할 수 있도록 하자.</li>
</ol>
<h3>UI 콤포넌트 설치</h3>
<p>위의 기획에 따라, 필자의 경험과 인터넷 검색을 통해 적절한 프론트엔드 라이브러리를 아래와 같이 선택하였다.</p>
<ul>
<li><a href="https://github.com/ftlabs/fastclick">Fastclick</a> : 모바일 디바이스에서 터치 반응을 개선한다.</li>
<li><a href="https://github.com/alanhogan/Tabby">Tabby</a> : textarea 에서 <kbd>Tab</kbd> 키 입력을 지원한다. </li>
<li><a href="https://github.com/jackmoore/autosize">Autosize</a> : 텍스트 길이에 따라 textarea 요소의 높이를 자동으로 조정한다.</li>
<li><a href="https://github.com/chjj/marked">Marked</a> : 클라이언트 사이드에서의 마크다운 컴파일 기능을 지원한다. </li>
<li><a href="https://github.com/components/highlightjs">Highlightjs</a> : 코드에서 Syntax Highlight 기능을 지원한다. 기존 Google Code Prettify 를 대체한다.</li>
<li><a href="http://daylerees.github.io/">Earthsong</a> : Syntax Highlight 에서 Earthsong 테마를 입힌다. Highlightjs 내장 테마를 대체한다.</li>
</ul>
<p><strong><code>참고</code></strong> Earthsong 테마는 <a href="http://daylerees.com/">Dayle Rees</a> 가 개발했다. 그는 라라벨 코어 멤버로 활동할 뿐 아니라, <a href="https://leanpub.com/php-pandas">PHP PANDA</a> 등 여러 권의 PHP 서적을 낸 바 있다. 그가 만든 <a href="https://github.com/daylerees/colour-schemes">Color Scheme</a> 은 모르는 개발자가 없을 정도로 유명하다. Color Scheme에서 제공하는 다양한 에디터 테마를 보려면 <a href="http://daylerees.github.io/">Color Scheme Gallery</a>를 확인해 보자.</p>
<pre><code class="language-bash"># highlightjs를 쓸 것이므로 google-code-prettify 는 제거한다.
$ bower uninstall google-code-prettify --save-dev
$ bower install fastclick tabby autosize marked highlightjs --save-dev
# Bower 콤포넌트가 아니므로, github 에서 raw URL를 따서 CURL 로 다운로드하였다.
$ curl https://raw.githubusercontent.com/daylerees/colour-schemes/master/highlightjs/contrast/earthsong-contrast.css -o ./resources/assets/vendor/earthsong.css</code></pre>
<p>빌드스크립트를 수정하자. 수정 후 빌드 코맨드는 이젠 척척 알아서.. <code>$ gulp</code> (or <code>$ gulp --production</code>)</p>
<pre><code class="language-javascript">// gulpfile.js

elixir(function (mix) {
  mix
    .styles([
      // ...
      '../vendor/earthsong.css',
      'app.css'
    ], 'public/css/app.css')
    .scripts([
      // ...
      '../vendor/fastclick/lib/fastclick.js',
      '../vendor/tabby/jquery.textarea.js',
      '../vendor/autosize/dist/autosize.js',
      '../vendor/highlightjs/highlight.pack.js',
      '../vendor/marked/lib/marked.js',
      'app.js'
    ], 'public/js/app.js')
    // ...
});</code></pre>
<h3>포럼 본문 및 댓글 쓰기 개선</h3>
<h4>Fastclick</h4>
<p>쉬운 것 먼저 하자. Fastclick 기능 추가는 <code>attach()</code> 메소드 호출 하나로 끝난다.</p>
<pre><code class="language-javascript">// resources/assets/js/app.js

var csrfToken = $('meta[name="csrf-token"]').attr('content'),
    routeName = $('meta[name="route"]').attr('content'),
    textAreas = $('textarea');

/* Global Settings */

/* Activate Fastclick */
window.addEventListener('load', function() {
  FastClick.attach(document.body);
}, false);

/* Set Ajax request header.
 Document can be found at http://laravel.com/docs/routing#csrf-x-csrf-token */
$.ajaxSetup({
  headers: {
    'X-CSRF-TOKEN': csrfToken
  }
});</code></pre>
<p>작업하는 김에 코드들도 약간 정리했다. <code>csrfToken</code> 부분은 앞 절에서 설명했을 것이다.</p>
<p><code>textareas</code> 란 글로벌 변수를 주목하자. 이 스크립트는 모든 페이지 로딩시 같이 로딩된다. 즉, 페이지 로딩시 마다, textarea 요소가 있는 페이지에서는 <code>textareas</code> 변수가 셋팅이 된다.</p>
<p>Fastclick 적용 결과는 눈에 딱히 보이지는 않는다. 모바일 브라우저에서 접근해서 확인해야 하는데, 필자도 별로 체감은 되지 않는 것 같다.</p>
<h4>Highlightjs</h4>
<p>역시 쉽다. 'articles.show' 뷰 등에서는 기존에 작성한 포럼 본문이 표시되고, 코드 블럭을 포함하고 있을 수 있다. 'articles.show' 페이지가 로드되자 마자, 코드 블럭이 있으면 Highlightjs 가 작동한다. 주의할 점은 페이지 로드 이후에 자바스크립트에 의해서 동적으로 DOM에 추가된 코드블럭에는 Highlightjs 가 적용되지 않는다는 점이다.  </p>
<pre><code class="language-javascript">// resources/assets/js/app.js

/* Activate syntax highlight. 
   This will affect code blocks right after the page renders */
hljs.initHighlightingOnLoad();</code></pre>
<p><img src="./images/41-ui-makeup-img-01.png" alt="" /></p>
<h4>Tabby &amp; Autosize</h4>
<p>역시 쉽다. 위에서 <code>textareas</code> 란 변수를 지정한 것을 기억할 것이다. Tabby 와 Autosize 기능은 <code>textareas.length</code> 값이 있을 때만 동작시키는 것으로 했다. </p>
<pre><code class="language-javascript">// resources/assets/js/app.js

if (textAreas.length) {
  /* Activate Tabby on every textarea element */
  textAreas.tabby({tabString: '    '});

  /* Auto expand textarea size */
  autosize(textAreas);
}</code></pre>
<p><img src="./images/41-ui-makeup-img-02.png" alt="" /></p>
<h4>Marked &amp; Hightlightjs</h4>
<p>이 부분은 쉽지 않다. 사용자가 textarea 에 입력하는 내용을 Marked 로 컴파일하여 미리보기 요소에 보여줄 것이다.</p>
<p>먼저, textarea 요소가 포함되어 있는 'articles.partial.form' 뷰와 'comments.partial.create', 'comments.partial.edit' 뷰에 미리보기를 표시할 HTML 요소를 추가하자. </p>
<pre><code class="language-html">&lt;!-- resources/views/articles/partial/form.blade.php --&gt;

&lt;div class="form-group"&gt;
  &lt;label for="content"&gt;{{ trans('forum.content') }}&lt;/label&gt;
  &lt;textarea name="content" class="form-control forum__content" rows="10"&gt;{{ old('content', $article-&gt;content) }}&lt;/textarea&gt;
  {!! $errors-&gt;first('content', '&lt;span class="form-error"&gt;:message&lt;/span&gt;') !!}
  &lt;div class="preview__forum"&gt;{{ markdown(old('content', 'Preview will be shown here...')) }}&lt;/div&gt;
&lt;/div&gt;</code></pre>
<pre><code class="language-css">/* resources/assets/sass/_forum.scss */

div.preview__forum {
  display: none;
  @extend .form-control;
  margin-top: $baseline;
  height: auto;
}</code></pre>
<p>'div.preview__forum' 이란 요소를 추가하고, 처음 로드될 때 상태를 <code>display:none;</code> 로 지정하였다. </p>
<p>유효성 검사 에러가 발생할 경우를 대비해, <code>{{ markdown(old('content', '...')) }}</code> 라고 쓴 것도 놓치지 말자. 포럼/댓글 작성/수정 폼 전송시에는 컴파일되지 않은 Raw 상태로 <code>*Controller::store()</code> 메소드에 전달되고, 유효성 검사에서 튕길 경우, <code>withInput()</code> 에 의해서 사용자가 작성한 폼 값들을 세션에 구워서 폼을 전송했던 뷰로 되돌려 보낸다. 이 때 서버는 뷰를 응답하기 전에, <code>markdown()</code> Helper 를 이용해서 미리 HTML 로 컴파일 된 내용을 'div.preview__forum' 요소에 넣어 놓는 부분이다. 당연히 textarea 요소에는 컴파일되지 않은 Raw 상태를 그대로 뿌리게 된다.</p>
<p>이제 자바스크립트 부분을 보도록 하자.</p>
<pre><code class="language-javascript">// resources/assets/js/app.js

if (textAreas.length) {
  // Other library activation codes ...

  textAreas.on("focus", function (e) {
    // Show preview pane when a textarea is in focus
    $(this).siblings("div.preview__forum").first().show();
  });

  textAreas.on("keyup", function(e) {
    // Register 'keyup' event handler
    var self = $(this),
        content = self.val(),
        previewEl = self.siblings("div.preview__forum").first();

    // Compile textarea content
    var compiled = marked(content, {
      renderer: new marked.Renderer(),
      gfm: true,
      tables: true,
      breaks: true,
      pedantic: false,
      sanitize: true,
      smartLists: true,
      smartypants: false
    });

    // Fill preview container with compiled content
    previewEl.html(compiled);
    // Add syntax highlight on the preview content
    previewEl.find('pre code').each(function(i, block) {
      hljs.highlightBlock(block)
    });
  }).trigger("keyup");
}</code></pre>
<p>먼저 textarea 에 커서가 들어가면 (== 'focus' 이벤트), jQuery의 <code>show()</code> 메소드를 이용하여 'div.preview__forum' 요소를 <code>display: block;</code> 상태로 변경시켰다.</p>
<p>그 다음은 textarea 에 'keyup' 이벤트가 발생했을 때 이다. textarea 에 입력한 내용을 읽어오고, 미리보기를 표시할 요소를 잡아 <code>content</code>, <code>previewEl</code> 변수가 각각 담았다.</p>
<p><code>marked()</code> 메소드를 이용해서 <code>content</code> 를 컴파일하여 <code>compiled</code> 변수에 담은 후, <code>previewEl</code> 의 내용을 <code>compiled</code> 로 채워 넣었다.</p>
<p>앞서 설명했듯이, Highlightjs 가 페이지 로드 이후에 동적으로 DOM 에 추가된 코드블럭에 대해서는 동작을 못하기 때문에, 이 부분을 처리하는 코드도 추가하였다.</p>
<p><img src="./images/41-ui-makeup-img-03.png" alt="" /></p>
<h3>마크다운 사용법 Modal</h3>
<p>Bootstrap 에는 Modal 요소를 포함하고 있다. 이를 활용하자.</p>
<p>먼저, Modal에 본문으로 표시될, 마크다운 사용법을 담고 있는 뷰를 만들고, 적절한 위치에 <code>@include</code> 시키자.</p>
<pre><code class="language-html">&lt;!-- resources/views/articles/partial/form.blade.php --&gt;

&lt;div class="form-group"&gt;
  &lt;a href="#" class="help-block pull-right hidden-xs" id="md-caller"&gt;
    &lt;small&gt;{!! icon('preview') !!} Markdown Cheatsheet&lt;/small&gt;
  &lt;/a&gt;
  &lt;label for="content"&gt;{{ trans('forum.content') }}&lt;/label&gt;
  &lt;!-- ... --&gt;
&lt;/div&gt;

&lt;!-- ... --&gt;

@include('layouts.partial.markdown')

@section('script')
  &lt;script&gt;
    // Other codes ...

    /* Modal window for Markdown Cheatsheet */
    $("#md-caller").on("click", function(e) {
      e.preventDefault();
      $("#md-modal").modal();
      return false;
    });
  &lt;/script&gt;
@stop</code></pre>
<pre><code class="language-html">&lt;!-- resources/views/layouts/partial/markdown.blade.php --&gt;

&lt;div class="modal fade" id="md-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"&gt;
  &lt;div class="modal-dialog modal-lg"&gt;
    &lt;div class="modal-content"&gt;
      &lt;div class="modal-header"&gt;
        &lt;button type="button" class="close" data-dismiss="modal"&gt;
        &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
        &lt;span class="sr-only"&gt;Close&lt;/span&gt;&lt;/button&gt;
        &lt;h4 class="modal-title"&gt;Markdown Cheatsheet&lt;/h4&gt;
      &lt;/div&gt;

      &lt;div class="modal-body table-responsive"&gt;
        &lt;table class="table"&gt;
        &lt;!-- Content of markdown cheatsheet ... --&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      &lt;div class="modal-footer"&gt;
        &lt;button type="button" class="btn btn-default" data-dismiss="modal"&gt;Close&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>'a#md-caller' 가 클릭되었을 때, <code>modal()</code> 메소드를 호출하는 것으로 처리하였다.</p>
<p><img src="./images/41-ui-makeup-img-04.png" alt="" /></p>
<h3>파일 첨부 UI 토글</h3>
<p>미리보기까지 들어가면서, 폼이 너무 길어지게 되어 줄일 필요성이 대두되었다. 나머지 폼들은 모두 채워야 하지만, 파일 첨부는 선택적으로 해도 되는 요소이므로, 사용자가 필요할 때만 열어서 파일을 올려 놓을 수 있도록 하자.</p>
<pre><code class="language-html">&lt;!-- resources/views/articles/partial/form.blade.php --&gt;

&lt;div class="form-group"&gt;
  &lt;label for="my-dropzone"&gt;
    Files
    &lt;small class="text-muted"&gt;
      Click to attach files &lt;i class="fa fa-chevron-down"&gt;&lt;/i&gt;
    &lt;/small&gt;
    &lt;small class="text-muted" style="display: none;"&gt;
      Click to close pane &lt;i class="fa fa-chevron-up"&gt;&lt;/i&gt;
    &lt;/small&gt;
  &lt;/label&gt;
  &lt;div id="my-dropzone" class="dropzone"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- ... --&gt;

@section('script')
  &lt;script&gt;
    var dropzone  = $("div.dropzone"),
      dzControl = $("label[for=my-dropzone]&gt;small");

    dzControl.on("click", function(e) {
      dropzone.fadeToggle(0);
      dzControl.fadeToggle(0);
    });

    // Other codes ...
  &lt;/script&gt;
@stop</code></pre>
<p><img src="./images/41-ui-makeup-img-05.png" alt="" /></p>
<h3>그 외 추가된 장식들</h3>
<ul>
<li>Back to top 버튼이 추가되었다. 페이지 스크롤이 발생했을 때 버튼이 표시되며, 누르면 페이지의 맨 위로 이동하는 그거다. (resources/views/layouts/partial/footer.blade.php, resources/assets/js/app.js)</li>
<li>모바일에서 Forum, Documents 를 열었을 때 좌측에 표시되던 태그, 문서목록을 숨기도록 하였다. 그리고 뷰 하단에 작은 버튼을 두어 누르면, 목록이 열리도록 하였다. (resources/assets/sass/_mediaqueries.scss, resources/assets/js/app.js)</li>
<li>페이지에서 블럭을 잡았을 때, 선택 영역의 색상을 수정했다. (resources/assets/sass/_commons.scss)</li>
</ul>
<p><img src="./images/41-ui-makeup-img-06.png" alt="" /></p>
<!--@start-->
<hr />
<ul>
<li><a href="../readme.md">목록으로 돌아가기</a></li>
<li><a href="40-comments.md">40강 - Comment 기능 구현</a></li>
<li><a href="42-be-makeup.md">42강 - 서버 사이드 개선</a>
<!--@end--></li>
</ul>

            <hr/>

            <nav id="pagination">
  <ul class="pager pager-bottom">
    <li class="previous ">
      <a href="/lessons/40-comments.html">
        <span class="pager-title-sm">
          <i class="material-icons">keyboard_arrow_left</i>
        </span>
        <span class="pager-title">
          40강 - Comment 기능...
        </span>
      </a>
    </li>
    <li class="next ">
      <a href="/lessons/42-be-makeup.html">
        <span class="pager-title">
          42강 - 서버 사이드...
        </span>
        <span class="pager-title-sm">
          <i class="material-icons">keyboard_arrow_right</i>
        </span>
      </a>
    </li>
  </ul>
</nav>                  </article>

        <hr class="divider">

        <div id="comment">
          <div class="comments" style="margin-bottom: 30px;">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//l5lessons.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  <!--script id="dsq-count-scr" src="//l5lessons.disqus.com/count.js" async></script-->
</div>        </div>
      </div>
    </div>
  </div>

  <div id="toggler">
    <a href="#" title="Open Menu">
      목록 토글
    </a>
  </div>

  <footer id="footer">
  <div>
    &copy; 2016 &nbsp; <a href="https://github.com/appkr">appkr</a> •
    Built with <a href="http://jigsaw.tighten.co/">Jigsaw</a> •
    Hosted by <a href="https://pages.github.com/">Github</a> •
    <a href="/feed.xml">Rss</a>
  </div>
</footer>

<div id="back-to-top">
  <a href="#" title="Scroll to Top">
    <i class="material-icons">keyboard_arrow_up</i>
  </a>
</div>
  <script src="/js/all.js"></script>
</body>
</html>
